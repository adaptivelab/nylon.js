var Nylon=function(a,b){"use strict";var c={},d=function(a){return a.r=a.r||0,a.g=a.g||0,a.b=a.b||0,a.opacity=a.opacity||1,["rgba(",a.r,", ",a.g,", ",a.b,", ",a.opacity,")"].join("")},e=function(a){return function(b){var c=function(b){a.call(this,b)};c.extend=e(c),c.prototype=new a,c.prototype.constructor=c;for(var d in b)c.prototype[d]=b[d];return c}},f=function(){var b,c,d,e,f=Array.prototype.slice.call(arguments);return b="object"==typeof f[0]?this.attributes:this.attributes[f.shift()],c=f.shift(),d=f.shift(),e=f.shift(),d=d||1e3,e=e||a.Easing.Quadratic.InOut,this.tween=new a.Tween(b).to(c,d).easing(e).start(),this},g=function(a){var b;"object"==typeof a?(b=document.createElement("canvas"),b.setAttribute("width",a.width),b.setAttribute("height",a.height),document.getElementById(a.el).appendChild(b)):b=document.getElementById(a),this.el=b,this.ctx=b.getContext("2d"),this.elements=[],this.attributes={width:b.clientWidth,height:b.clientHeight}};g.prototype={add:function(a){this.elements.push(a)},render:function(){this.ctx.clearRect(0,0,this.attributes.width,this.attributes.height);for(var a in this.elements)this.elements[a].render(this.ctx)},start:function(){this.running=!0,this.animate()},stop:function(){this.running=!1},animate:function(){this.running&&(a.update(),this.render(),b(this.animate.bind(this)))}};var h=function(a,b){this.elements=b||[],this.attributes={x:0,y:0,rotate:0};for(var c in a)this.attributes[c]=a[c]};h.prototype={add:function(a){this.elements.push(a)},render:function(a){var b=this.attributes;a.save(),a.translate(b.x,b.y),a.rotate(b.rotate);for(var c in this.elements)this.elements[c].render(a);a.restore()},animate:f};var i=function(a){a=a||{},this.attributes=a,this.initialize(a)};i.extend=e(i),i.prototype={initialize:function(){},draw:function(){},render:function(a){var b=this.attributes;a.save(),"font"in b&&(a.font=b.font),"fill"in b&&(a.fillStyle=d(b.fill)),"stroke"in b&&(a.strokeStyle=d(b.stroke)),"lineWidth"in b&&(a.lineWidth=b.lineWidth),a.beginPath(),a.translate(b.x,b.y),a.rotate(b.rotate),this.draw(a),a.restore()},animate:f};var j=i.extend({initialize:function(a){this.attributes.rotate="rotate"in a?a.rotate:0},draw:function(a){var b=this.attributes;a.arc(0,0,b.radius,0,b.angle,0),"fill"in b&&a.fill(),"stroke"in b&&a.stroke()}}),k=i.extend({draw:function(a){var b=this.attributes;a.arc(0,0,b.radius,0,2*Math.PI,1),"fill"in b&&a.fill(),"stroke"in b&&a.stroke()}}),l=i.extend({draw:function(a){var b=this.attributes;a.textAlign="align"in b?b.align:"left",a.textBaseline="baseline"in b?b.baseline:"bottom",a.fillText(b.text,0,0)}});return c.Canvas=g,c.Group=h,c.Shape=i,c.Arc=j,c.Circle=k,c.Label=l,c}(TWEEN,requestAnimationFrame);